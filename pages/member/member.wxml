<!--pages/member/member.wxml-->
<view class="container">
  <!-- 会员头部信息 -->
  <view class="member-header">
    <view class="user-info">
      <image class="avatar" src="{{userInfo.avatarUrl}}" mode="aspectFill"></image>
      <view class="user-detail">
        <view class="name-container">
          <view class="name">{{userInfo.nickName}}</view>
          <view class="level">{{userInfo.level}}</view>
        </view>
        <view class="member-id" bindtap="copyMemberId">
          会员ID: {{userInfo.memberId}}
          <text class="copy-text">复制</text>
        </view>
      </view>
      <button class="edit-btn" bindtap="getUserProfile">编辑</button>
    </view>
    
    <view class="points-card">
      <view class="points-value">{{userInfo.points}}</view>
      <view class="points-label">我的积分</view>
      <view class="points-action" bindtap="navigateToPoints">积分明细 ></view>
    </view>
  </view>

  <!-- 会员优惠券 -->
  <view class="section">
    <view class="section-header">
      <view class="section-title">我的优惠券</view>
      <view class="section-more" bindtap="navigateToCoupons">查看全部 ></view>
    </view>
    
    <view class="coupon-container">
      <scroll-view class="coupon-scroll" scroll-x="true">
        <view class="coupon-item" wx:for="{{coupons}}" wx:key="id">
          <view class="coupon-left">
            <view class="coupon-value">¥{{item.value}}</view>
          </view>
          <view class="coupon-right">
            <view class="coupon-name">{{item.name}}</view>
            <view class="coupon-expire">有效期至: {{item.expire}}</view>
          </view>
        </view>
        <view class="coupon-more" bindtap="navigateToCoupons">
          <view class="more-icon">+</view>
          <view class="more-text">查看更多</view>
        </view>
      </scroll-view>
    </view>
  </view>

  <!-- 会员权益 -->
  <view class="section">
    <view class="section-header">
      <view class="section-title">会员特权</view>
      <view class="section-more" bindtap="navigateToPrivileges">查看详情 ></view>
    </view>
    
    <view class="privileges-grid">
      <view class="privilege-item" wx:for="{{memberPrivileges}}" wx:key="name">
        <image class="privilege-icon" src="{{item.icon}}" mode="aspectFit"></image>
        <view class="privilege-name">{{item.name}}</view>
      </view>
    </view>
  </view>

  <!-- 菜单列表 -->
  <view class="menu-list">
    <view class="menu-item" wx:for="{{menuList}}" wx:key="id" bindtap="handleMenuClick" data-id="{{item.id}}">
      <view class="menu-left">
        <image class="menu-icon" src="{{item.icon}}" mode="aspectFit"></image>
        <view class="menu-name">{{item.name}}</view>
      </view>
      <view class="menu-arrow">></view>
    </view>
  </view>

  <!-- 底部版本信息 -->
  <view class="footer">
    <view class="version">ANSEL酒店 v1.0.0</view>
  </view>
</view>